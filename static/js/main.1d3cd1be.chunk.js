(this["webpackJsonpmy-weather-app"]=this["webpackJsonpmy-weather-app"]||[]).push([[0],{141:function(e,t,a){"use strict";a.r(t);var n=a(33),c=a(5),r=a(6),s=a(8),i=a(7),o=a(0),l=a.n(o),d=a(21),u=a.n(d),h=a(16),p=a(34),j=a(57),b=a(58),f=a(12),v=a(3),m=a.n(v),x=a(17),O=a(25),g=a.n(O),y=a(20);g.a.interceptors.response.use(null,(function(e){var t,a,n;return y.b.error(e.message),(null===(t=e.response)||void 0===t?void 0:t.data.Message)?y.b.error(null===(n=e.response)||void 0===n?void 0:n.data.Message):y.b.error(null===(a=e.response)||void 0===a?void 0:a.data),Promise.reject(e)}));var w={get:g.a.get,post:g.a.post,put:g.a.put,patch:g.a.patch,delete:g.a.delete},k="TYPE_IN_CITYNAME_FIELD",C="weatherData",D="SelectedOption",N=["jdJtjY5LHZvdj0IS8iiRqturSfo6sjq3","Pcam0PjGtEMwkxAAI0LL8lIjSlpwkHFS","EVO76C8niYMxHwXnuF7yAiRLSKA3R8Ud","keIkcwQuwHMsCqZJawOVskNUec3ErVQq"];function S(e){return Object(x.a)(m.a.mark((function t(){var a,n,c,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,a){t(w.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat(N[n],"&details=true")).catch((function(e){return a(e)})))})).catch((function(e){console.error(e),y.b.info("API KEY HAS BEEN CHANGED")}));case 2:if(!(a=t.sent)){t.next=5;break}return t.abrupt("return",{v:T.dispatch(I(a))});case 5:case"end":return t.stop()}}),t)})),c=0;case 2:if(!(c<N.length)){t.next=10;break}return t.delegateYield(n(c),"t0",4);case 4:if("object"!==typeof(r=t.t0)){t.next=7;break}return t.abrupt("return",r.v);case 7:c++,t.next=2;break;case 10:case"end":return t.stop()}}),t)})))}function I(e){return{type:C,weatherData:null===e||void 0===e?void 0:e.data.DailyForecasts}}function F(e){return{type:D,code:e.code,city:e.city}}var A={api_key:["jdJtjY5LHZvdj0IS8iiRqturSfo6sjq3","Pcam0PjGtEMwkxAAI0LL8lIjSlpwkHFS","EVO76C8niYMxHwXnuF7yAiRLSKA3R8Ud","keIkcwQuwHMsCqZJawOVskNUec3ErVQq"],userInput:{err:!1},weatherData:[],code:"215854",city:"Tel Aviv",geo:!1,loading:!0};var T=Object(p.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(f.a)(Object(f.a)({},e),{},{userInput:Object(f.a)(Object(f.a)({},e.err),{},{err:t.err})});case C:return Object(f.a)(Object(f.a)({},e),{},{weatherData:t.weatherData,loading:!1});case D:return Object(f.a)(Object(f.a)({},e),{},{code:t.code,city:t.city,loading:!0,geo:t.geo||!1});default:return e}}),Object(b.composeWithDevTools)(Object(p.applyMiddleware)(j.a))),M=(a(94),a(59)),E=(a(95),a(11)),L=a.n(E),H=a(65),P=a(66),_=a(60),V=a.n(_),Y=a(1),J=l.a.createContext({theme:"light",toggleTheme:function(){}}),R=function(e){var t=e.children,a=Object(o.useState)(""),n=Object(P.a)(a,2),c=n[0],r=n[1],s="light"===c?"dark":"light",i=function(e){localStorage.setItem("theme",JSON.stringify(e))};return Object(o.useEffect)((function(){localStorage.getItem("theme")?r(JSON.parse(localStorage.getItem("theme"))):function(){var e=V()().format("H");e>=6&&e<18?(r("light"),i("light")):(r("dark"),i("dark"))}()}),[]),Object(Y.jsx)(J.Provider,{value:{theme:c,colorTheme:s,toggleTheme:function(){var e="light"===c?"dark":"light";r(e),i(e)}},children:t})},q=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onInputChange=function(e){n.props.placenameHandler(e)},n.onChange=function(e){n.props.selectedOption({city:e.label,code:e.code}),n.props.getForcast(e.code)},n.state={},n.customStyles={option:function(e,t){return Object(f.a)(Object(f.a)({},e),{},{borderBottom:"1px dotted pink",color:t.isSelected?"blue":"dark"===n.context.colorTheme?"white":"black",padding:10,backgroundColor:"dark"===n.context.colorTheme?t.isFocused?"#2684FF":"#212529 !important":t.isFocused?"#2684FF":console.log(t,"lll")})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(f.a)(Object(f.a)({},e),{},{opacity:a,transition:"opacity 300ms"})}},n}return Object(r.a)(a,[{key:"render",value:function(){return Object(Y.jsxs)("div",{className:"basic-single col-4 m-4 mx-auto search-bar",children:[this.props.err?Object(Y.jsx)("span",{className:"text-danger",children:"Only english letters allowed"}):"",Object(Y.jsx)(H.a,{styles:this.customStyles,classNamePrefix:"select",placeholder:"Search a city...",isSearchable:"true",name:"cities",options:this.props.locations,onChange:this.onChange,onInputChange:this.onInputChange})]})}}]),a}(o.Component);q.contextType=J;var W=Object(h.b)((function(e){return{err:e.userInput.err,DailyForecasts:e.DailyForecasts}}),(function(e){return{placenameHandler:function(e){return T.dispatch(function(e){var t=/^[a-zA-Z]+$/.test(e);return{type:k,err:!t&&""!==e}}(e))},getForcast:function(e){return T.dispatch(S(e))},selectedOption:function(e){return T.dispatch(F(e))}}}))(q),U=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return Object(Y.jsxs)("div",{className:"form-switch pt-5 p-0",children:[Object(Y.jsx)("span",{className:"",children:"\u2103"}),Object(Y.jsx)("input",{type:"checkbox",className:"form-check-input mx-3",id:"customSwitches",onChange:function(t){return e.props.handleOnChange(t)},checked:this.props.checked,defaultChecked:!0}),Object(Y.jsx)("label",{className:"form-check-label",htmlFor:"customSwitches",children:"\u2109"})]})}}]),a}(o.Component),B=a(27),K=a.n(B),Z=function(e){var t=e.selectedDay,a=e.dayIndex,n=e.dayDate,c=e.dayIcon,r=e.dayMinTemp,s=e.dayMaxTemp,i=e.selectedConvert,o=e.handleDaySelection;return Object(Y.jsx)("div",{className:"border border-2 border-dark me-1 mb-2 single-day ".concat(t===a?"selected":""),onClick:o,children:Object(Y.jsxs)("div",{className:"flex-row bd-highlight m-2 ",children:[Object(Y.jsx)("h6",{children:Object(Y.jsx)(K.a,{format:"ddd",children:n})}),Object(Y.jsx)("img",{className:"small-image",src:"https://developer.accuweather.com/sites/default/files/".concat(c>=10?c:"0"+c,"-s.png"),alt:"weather-icon"}),Object(Y.jsxs)("h6",{children:[s," ",i?"\xb0F":"\xb0C"]}),Object(Y.jsxs)("h6",{children:[r," ",i?"\xb0F":"\xb0C"]})]})})},G=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.weatherData,a=e.selectedCity,n=e.selectedDay,c=e.handleDaySelection,r=e.selectedConvert,s=this.context,i=s.theme,o=s.colorTheme;return Object(Y.jsxs)("div",{id:a,className:"border border-3 border-".concat(i," container col-11 mx-auto mt-2 gray  rounded text-").concat(o),children:[t[0]?Object(Y.jsx)("div",{className:"d-flex p-2 bd-highlight justify-content-center top-weather",children:Object(Y.jsxs)("div",{className:"flex-row bd-highlight",children:[Object(Y.jsx)("h4",{children:a}),Object(Y.jsx)(K.a,{format:"dddd",children:t[n].Date}),Object(Y.jsxs)("div",{className:"flex-row bd-highlight",children:[Object(Y.jsx)("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(t[n].Day.Icon>=10?t[n].Day.Icon:"0"+t[n].Day.Icon,"-s.png"),alt:"weather-icon"}),Object(Y.jsx)("p",{children:t[n].Day.IconPhrase})]})]})}):null,Object(Y.jsx)("div",{className:"bd-highlight bottom-weather d-flex flex-wrap justify-content-center p-2",children:t.map((function(e,t){return Object(Y.jsx)(Z,{selectedDay:n,dayIndex:t,dayDate:e.Date,dayIcon:e.Day.Icon,dayMaxTemp:r?e.Temperature.Maximum.Value:((parseFloat(e.Temperature.Maximum.Value)-32)/1.8).toFixed(2),dayMinTemp:r?e.Temperature.Minimum.Value:((parseFloat(e.Temperature.Minimum.Value)-32)/1.8).toFixed(2),selectedConvert:r,handleDaySelection:function(){return c(t)}},e.EpochDate)}))})]})}}]),a}(o.Component);G.contextType=J;var Q=Object(h.b)((function(e){return{weatherData:e.weatherData}}),(function(e){return{}}))(G),z=(a(110),function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(Y.jsx)("div",{id:"",className:"pb-3",children:Object(Y.jsx)("div",{className:"fav-btn",children:Object(Y.jsx)("span",{code:this.props.code,city:this.props.city,onClick:this.props.handleOnChange,className:"favme dashicons dashicons-heart ".concat(this.props.active?"active":""),children:this.props.active?"Remove from favorits":"Add to favorites"})})})}}]),a}(o.Component));function X(){E(document).click((function(e){E(".collapse").hasClass("show")&&!E("nav").is(e.target)&&0===E("nav").has(e.target).length&&E(".navbar-toggler").click()})),E(".favme").on("click touchstart",(function(){E(this).toggleClass("is_animating")})),E(".favme").on("animationend",(function(){E(this).toggleClass("is_animating")}))}var $=a(145),ee=a(144),te=function(e){return!Object($.a)(e)&&!Object(ee.a)(e)},ae=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).updateAddress=function(){var e=Object(x.a)(m.a.mark((function e(t){var a,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("https://dataservice.accuweather.com/locations/v1/cities/geoposition/search?apikey=".concat(n.props.api_key[1],"&q=").concat(t));case 3:a=e.sent.data,e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,w.get("https://dataservice.accuweather.com/locations/v1/cities/geoposition/search?apikey=".concat(n.props.api_key[3],"&q=").concat(t));case 10:a=e.sent.data;case 11:return e.prev=11,te(a)&&(c=a.AdministrativeArea.EnglishName,r=a.Key,n.setState({city:c}),n.props.selectedOption({city:c,code:r,geo:!0}),n.props.getForcast(r)),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,6,11,14]])})));return function(t){return e.apply(this,arguments)}}(),n.formatCoords=function(e,t){return"".concat(e,",").concat(t)},n.getAddress=Object(x.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("geolocation"in navigator)){e.next=3;break}return e.next=3,navigator.geolocation.getCurrentPosition(function(){var e=Object(x.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.formatCoords(t.coords.latitude,t.coords.longitude),n.updateAddress(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.error(e)}));case 3:case"end":return e.stop()}}),e)}))),n.state={},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.getAddress()}},{key:"render",value:function(){return Object(Y.jsxs)("div",{children:[Object(Y.jsx)("h4",{children:"Using geolocation JavaScript API in React"}),Object(Y.jsxs)("span",{children:["your location :",this.state.city||Object(Y.jsx)("span",{className:"text-danger",children:" please confirm access to your location "})]})]})}}]),a}(o.Component),ne=Object(h.b)((function(e){return{code:e.code,city:e.city,api_key:e.api_key}}),(function(e){return{selectedOption:function(e){return T.dispatch(F(e))},getForcast:function(e){return T.dispatch(S(e))}}}))(ae),ce=a(4),re=a(63),se=a.n(re),ie=function(){return Object(Y.jsxs)("div",{className:"loading",children:[Object(Y.jsx)("div",{}),Object(Y.jsx)("div",{})]})},oe=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getLocations=Object(x.a)(m.a.mark((function e(){var t,a,c,r,s,i,o,l,d,u,h;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){e(w.get("https://dataservice.accuweather.com/locations/v1/topcities/150?apikey=".concat(n.props.api_key[t])).catch((function(e){return a(e)})))})).catch((function(e){console.error(e),y.b.info("API KEY HAS BEEN CHANGED")}));case 2:if(!(a=e.sent)){e.next=5;break}return e.abrupt("return","break");case 5:t===n.props.api_key.length-1&&y.b.info("ALL API KEYS HAS BEEN USED TRY AGAIN TOMORROW");case 6:case"end":return e.stop()}}),e)})),r=0;case 2:if(!(r<n.props.api_key.length)){e.next=10;break}return e.delegateYield(c(r),"t0",4);case 4:if("break"!==e.t0){e.next=7;break}return e.abrupt("break",10);case 7:r++,e.next=2;break;case 10:if(s=[],null===(t=a)||void 0===t?void 0:t.data){i=Object(M.a)(a.data);try{for(i.s();!(o=i.n()).done;)l=o.value,d=l.AdministrativeArea.EnglishName,u=l.Country.EnglishName,h=l.Key,s.push({label:d,value:u,code:h})}catch(p){i.e(p)}finally{i.f()}n.setState({locationsApi:s})}case 12:case"end":return e.stop()}}),e)}))),n.fav=function(e){L()(e.target).toggleClass("active"),n.setState({fav:n.props.fav(e)})},n.state={locationsApi:[],fav:[],selectedDay:0,selectedConvert:!0},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getLocations();case 2:return t=se.a.parse(this.props.location.search),a=t.code,n=t.selectedCity,a&&this.props.selectedOption({code:a,city:n}),e.next=6,this.props.getForcast(a||this.props.code);case 6:X(),this.setState({fav:this.props.initfav()});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(){var e=Object(x.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.location.search===this.props.location.search||this.props.geo||(this.props.selectedOption({code:"215854",city:"Tel Aviv"}),this.props.getForcast("215854"));case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.context,a=t.theme,n=t.colorTheme;return Object(Y.jsx)(l.a.Fragment,{children:Object(Y.jsxs)("div",{className:"pb-5 bg-".concat(n," text-").concat(a," text-center"),style:{minHeight:"inherit"},children:[Object(Y.jsx)("h1",{className:"pt-4",children:"Weather Forcast"}),this.props.location.search?"":Object(Y.jsx)(ne,{handleOnChange:this.handleOnChange}),Object(Y.jsx)(U,{handleOnChange:function(t){e.setState({selectedConvert:e.props.temperatureConverter(t)})},checked:this.selectedConvert}),Object(Y.jsx)(W,{locations:this.state.locationsApi}),Object(Y.jsx)("div",{className:"content",children:this.props.weatherData?[Object(Y.jsx)(z,{city:this.props.city,code:this.props.code,active:this.state.fav.flat().indexOf(this.props.code)>-1,handleOnChange:function(t){return e.fav(t)}},"fav"),this.props.loading?Object(Y.jsx)(ie,{},"Loading"):0===Object.keys(this.props.weatherData).length?"":Object(Y.jsx)(Q,{handleDaySelection:function(t){e.props.handleDaySelection(t),e.setState({selectedDay:t})},selectedDay:this.state.selectedDay,selectedCity:this.props.city,selectedConvert:this.state.selectedConvert},"WeeklyWeatherContainer")]:""})]})})}}]),a}(o.Component);oe.contextType=J;var le=Object(h.b)((function(e){return{weatherData:e.weatherData,code:e.code,city:e.city,api_key:e.api_key,loading:e.loading,geo:e.geo}}),(function(e){return{getForcast:function(e){return T.dispatch(S(e))},selectedOption:function(e){return T.dispatch(F(e))}}}))(Object(ce.f)(oe)),de=a(22);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=a(64),he=a.n(ue),pe=a(42),je=function(e){var t=e.iconType;return Object(Y.jsx)("div",{children:"light"===t?Object(Y.jsx)("p",{className:"text-toggle",children:Object(Y.jsx)(pe.b,{})}):Object(Y.jsx)("p",{className:"text-toggle",children:Object(Y.jsx)(pe.a,{})})})},be=function(){var e=Object(o.useContext)(J),t=e.theme,a=e.toggleTheme;return Object(Y.jsx)("div",{className:"flex justify-between items-center px-5 py-5",children:Object(Y.jsx)("div",{children:Object($.a)(t)?null:Object(Y.jsx)(he.a,{checked:"light"===t,icons:{checked:Object(Y.jsx)(je,{iconType:"light"}),unchecked:Object(Y.jsx)(je,{iconType:"dark"})},onChange:a})})})},fe=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this.context.colorTheme;return Object(Y.jsx)("nav",{className:"navbar navbar-expand-lg navbar-".concat(e," bg-").concat(e),style:{border:"solid",zIndex:1,borderColor:"darksalmon"},children:Object(Y.jsxs)("div",{className:"container-fluid",children:[Object(Y.jsx)(de.c,{className:"navbar-brand",to:{pathname:"/weather--react",search:"",hash:"",state:{}},children:"Home"}),Object(Y.jsx)("button",{className:"navbar-toggler ms-sm-auto",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(Y.jsx)("span",{className:"navbar-toggler-icon"})}),Object(Y.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(Y.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:Object(Y.jsx)("li",{className:"nav-item",children:Object(Y.jsx)(de.c,{className:"nav-link",to:"/MyFav",children:"MyFav"})})}),Object(Y.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:Object(Y.jsx)("li",{className:"nav-item",children:Object(Y.jsx)(be,{})})})]}),Object(Y.jsx)("div",{className:"navbar-brand text-wrap",children:"Herolo - Weather App"})]})})}}]),a}(o.Component);fe.contextType=J;var ve=fe,me=function(e){var t=e.weatherData,a=e.selectedCity,n=e.code,c=e.selectedDay,r=(e.handleDaySelection,e.selectedConvert),s=e.fav;return Object(Y.jsx)("div",{className:"single-day col-11 flex-fill m-0 m-2 navbar-brand",children:Object(Y.jsxs)("div",{id:a,code:n,className:"container h-100  mx-auto mt-2 gray  rounded text-white ",children:[t[0]?Object(Y.jsx)(de.b,{className:" navbar-brand",to:{pathname:"/weather--react",search:"?selectedCity="+a+"&code="+n},children:Object(Y.jsx)("div",{className:" d-flex p-2 bd-highlight justify-content-center text-light text-break ",children:Object(Y.jsxs)("div",{className:"flex-row bd-highlight text-wrap",children:[Object(Y.jsx)("h4",{children:a}),Object(Y.jsx)(K.a,{format:"dddd",children:t[c].Date}),Object(Y.jsxs)("div",{className:"flex-row bd-highlight",children:[Object(Y.jsx)("span",{className:"",children:r?t[c].Temperature.Minimum.Value+" F\xb0":((parseFloat(t[c].Temperature.Minimum.Value)-32)/1.8).toFixed(2)+" C\xb0"}),"                            ",Object(Y.jsx)("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(t[c].Day.Icon>=10?t[c].Day.Icon:"0"+t[c].Day.Icon,"-s.png"),alt:"weather-icon"}),Object(Y.jsx)("span",{children:r?t[c].Temperature.Maximum.Value+" F\xb0":((parseFloat(t[c].Temperature.Maximum.Value)-32)/1.8).toFixed(2)+" C\xb0"}),Object(Y.jsx)("p",{children:t[c].Day.IconPhrase})]})]})})}):null,Object(Y.jsx)(z,{city:a,code:n,active:!0,handleOnChange:function(e){return s(e)}},n)]})})},xe=function(){return Object(Y.jsxs)("div",{className:"loading",children:[Object(Y.jsx)("div",{}),Object(Y.jsx)("div",{})]})},Oe=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).data=function(){n.state.fav.length?Promise.all(n.state.fav.map(function(){var e=Object(x.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.getForcast(t[1]);case 2:return e.abrupt("return",n.props.weatherData);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())).then((function(e){n.setState({weatherData:e})})):n.setState({fav:n.props.fav()})},n.fav=function(e){L()(e.target).toggleClass("active"),n.props.fav(e),n.data()},n.state={selectedDay:(new Date).getDay(),selectedConvert:!0,weatherData:[],fav:n.props.fav()},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.state.fav&&this.data(),X()}},{key:"componentWillMount",value:function(){this.setState({fav:this.props.initfav()})}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.context,a=t.theme,c=t.colorTheme;return Object(Y.jsxs)("div",{className:"pb-5 bg-".concat(c," text-").concat(a," text-center"),style:{minHeight:"inherit"},children:[Object(Y.jsx)("h1",{className:"pt-4",children:"My favorites"}),this.state.weatherData.length?Object(Y.jsx)(U,{handleOnChange:function(t){e.setState({selectedConvert:e.props.temperatureConverter(t)})},checked:this.selectedConvert}):"",Object(Y.jsx)("div",{className:"d-flex flex-lg-nowrap flex-wrap",children:this.state.weatherData.length&&this.state.fav.length?this.state.fav.map((function(t,a){var c=Object(n.a)(e.state.weatherData[a]).findIndex((function(t){return e.state.selectedDay===new Date(t.Date).getDay()}));return Object(Y.jsx)(me,{handleDaySelection:function(t){e.setState({selectedDay:t})},selectedDay:c,selectedCity:t[0],code:t[1],weatherData:e.state.weatherData[a],selectedConvert:e.state.selectedConvert,fav:e.fav},a)})):this.state.fav.length?Object(Y.jsx)(xe,{},"Loading"):Object(Y.jsx)("h1",{children:"No favorites found"})})]})}}]),a}(o.Component);Oe.contextType=J;var ge=Object(h.b)((function(e){return{weatherData:e.weatherData,selectedOption:e.selectedOption,code:e.code,city:e.city,api_key:e.api_key}}),(function(e){return{getForcast:function(e){return T.dispatch(S(e))},selectedOption:function(e){return T.dispatch(F(e))}}}))(Oe),ye=(a(138),a(139),function(){return Object(Y.jsx)("footer",{children:Object(Y.jsxs)("div",{className:"text-center",children:[Object(Y.jsx)("span",{children:"made with love by yair \u2665"}),Object(Y.jsx)("div",{style:{position:"fixed",bottom:0,border:0,left:0},children:Object(Y.jsx)("a",{href:"https://github.com/hthrkuh/weather--react",className:"github-corner","aria-label":"View source on GitHub",target:"_blank",rel:"noreferrer noopener",children:Object(Y.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#292929",color:"#fff",transform:"scale(-1, -1)"},"aria-hidden":"true",children:[Object(Y.jsx)("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),Object(Y.jsx)("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"130px 106px"},className:"octo-arm"}),Object(Y.jsx)("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})]})})})]})})}),we=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleDaySelection=function(e){return e},e.temperatureConverter=function(e){return e.target.checked},e.fav=function(t){var a=e.state.myfav;if(t){var c=t.target;if(-1===Object(n.a)(c.classList).indexOf("active")){var r=a.findIndex((function(e){return e[1]===c.getAttribute("code")}));a.splice(r,1)}else a.push([c.getAttribute("city"),c.getAttribute("code")]);localStorage.setItem("fav",JSON.stringify(a))}return a},e.initfav=function(){return e.state.myfav},e.state={myfav:localStorage.getItem("fav")?JSON.parse(localStorage.getItem("fav")):[]},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.context,a=t.theme,n=t.colorTheme;return Object(Y.jsx)(h.a,{store:T,children:Object(Y.jsx)(R,{children:Object(Y.jsxs)(de.a,{children:[Object(Y.jsx)(y.a,{}),Object(Y.jsx)("header",{className:" bg-".concat(n," text-").concat(a),children:Object(Y.jsx)(ve,{})}),Object(Y.jsx)("main",{className:"flex-column",style:{minHeight:"450px"},children:Object(Y.jsxs)(ce.c,{children:[Object(Y.jsx)(ce.a,{path:"/MyFav",component:function(){return Object(Y.jsx)(ge,{initfav:e.initfav,myfav:e.state.myfav,temperatureConverter:e.temperatureConverter,handleDaySelection:e.handleDaySelection,fav:e.fav})}}),Object(Y.jsx)(ce.a,{path:"/weather--react",exact:!0,component:function(){return Object(Y.jsx)(le,{initfav:e.initfav,temperatureConverter:e.temperatureConverter,handleDaySelection:e.handleDaySelection,fav:e.fav})}})]})}),Object(Y.jsx)(ye,{})]})})})}}]),a}(o.Component);we.contextType=J,u.a.render(Object(Y.jsx)(we,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},94:function(e,t,a){},95:function(e,t,a){}},[[141,1,2]]]);
//# sourceMappingURL=main.1d3cd1be.chunk.js.map